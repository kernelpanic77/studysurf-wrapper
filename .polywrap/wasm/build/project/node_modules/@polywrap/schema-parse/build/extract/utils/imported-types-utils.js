"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractImportedDefinition = void 0;
var __1 = require("../..");
function extractImportedDefinition(node, type) {
    if (!node.directives) {
        return undefined;
    }
    // Look for the imported directive
    var importedIndex = node.directives.findIndex(function (dir) { return dir.name.value === "imported"; });
    if (importedIndex === -1) {
        return undefined;
    }
    var typeName = node.name.value;
    if ((type === "module" && !__1.isImportedModuleType(typeName)) ||
        (type !== "module" && __1.isImportedModuleType(typeName)) ||
        (type === "env" && !__1.isImportedEnvType(typeName)) ||
        (type !== "env" && __1.isImportedEnvType(typeName))) {
        return undefined;
    }
    var importedDir = node.directives[importedIndex];
    var args = importedDir.arguments || [];
    var result = {
        namespace: "",
        nativeType: "",
        uri: "",
    };
    Object.keys(result).map(function (key) {
        var argumentNode = args.find(function (arg) { return arg.name.value === key; });
        if (argumentNode && argumentNode.value.kind === "StringValue") {
            result[key] = argumentNode.value.value;
        }
    });
    return result;
}
exports.extractImportedDefinition = extractImportedDefinition;
//# sourceMappingURL=imported-types-utils.js.map